adapter_name: kalshi-binary
adapter_type: source
description: External Adapter for querying Kalshi binary market data (YES/NO contracts) for real-world event prediction markets.

data_source_base_url:
  base_url: https://api.kalshi.com/v1

data_source_authentication:
  type: api_key
  credentials:
    key: "{{KALSHI_API_KEY}}"
    type: header
    name: Authorization
  token_usage:
    header_name: Authorization
    header_format: "Bearer {key}"

data_source_endpoints:
  - name: get_market
    method: GET
    path: /markets/{ticker}
    description: Retrieve the latest snapshot for a specific Kalshi market, including price data, status, and settlement information.
    parameters:
      required: [ticker]
      optional: []
    headers:
      - key: accept
        value: application/json
      - key: Authorization
        value: Bearer {KALSHI_API_KEY}
    timeout_ms: 10000
    rate_limit:
      requests_per_second: 10
      burst_size: 20
    endpoint_tested: false
    sample_response: |
      {
        "market": {
          "ticker": "KXNFLANYTD-25OCT30BALMIA-BALMANDREWS89",
          "event_ticker": "KXNFLANYTD-25OCT30BALMIA",
          "status": "active",
          "yes_bid": 35,
          "yes_ask": 37,
          "no_bid": 63,
          "no_ask": 65,
          "open_interest": 551,
          "category": "",
          "close_time": "2025-11-14T00:15:00Z",
          "updated_at": "2025-10-29T00:57:00Z"
        }
      }
    response_mapping:
      market_ticker: market.ticker
      event_ticker: market.event_ticker
      market_status: market.status
      settlement_flag: market.result
      yes_bid_price: market.yes_bid
      yes_ask_price: market.yes_ask
      no_bid_price: market.no_bid
      no_ask_price: market.no_ask
      yes_mid_price: (market.yes_bid + market.yes_ask) / 2
      no_mid_price: (market.no_bid + market.no_ask) / 2
      open_interest: market.open_interest
      category: market.category
      close_timestamp: market.close_time
      updated_at: market.updated_at
    data_freshness:
      timestamp_field: market.updated_at
      max_age_seconds: 3600

external_adapter_specifications:
  environment_variables:
    - KALSHI_API_KEY
  endpoints:
    - name: get_market
      description: Retrieve binary market data for a given Kalshi market ticker.
      input_parameters:
        - name: market_ticker
          type: string
          description: Kalshi market identifier (e.g. KXUSIRATECUTS25MAR)
          required: true
          default: null
  endpoint_request_response_examples:
    - endpoint: get_market
      request: |
        {
          "data": {
            "endpoint": "get_market",
            "market_ticker": "KXUSIRATECUTS25MAR"
          }
        }
      response: |
        {
          "statusCode": 200,
          "result": 0,
          "data": {
            "market_ticker": "KXUSIRATECUTS25MAR",
            "event_ticker": "USIRATECUTS25",
            "market_status": 0,
            "settlement_flag": 0,
            "yes_bid_price": 48,
            "yes_ask_price": 52,
            "no_bid_price": 48,
            "no_ask_price": 52,
            "yes_mid_price": 50,
            "no_mid_price": 50,
            "open_interest": 104923,
            "category": "Macro",
            "close_timestamp": 1742428800,
            "updated_at": 1760696400
          }
        }

data_source:
  provider_name: Kalshi
  api_documentation_url: https://docs.kalshi.com/api-reference/market/get-market
  api_base_documentation: Kalshi API documentation for market endpoints and authentication.
  support_contact: https://kalshi.com/contact

metadata:
  business_owner: Ade Fola-Alade
  technical_owner: Michael Xiao
  jira_ticket: OPDATA-4777
  deployment_chains:
    - arbitrum
    - ethereum-mainnet