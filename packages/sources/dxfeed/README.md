# Chainlink External Adapter for dxFeed

### Environment Variables

| Required? |          Name           |               Description               | Options |                Defaults to                 |
| :-------: | :---------------------: | :-------------------------------------: | :-----: | :----------------------------------------: |
|    ‚úÖ     |      API_USERNAME       |                                         |         |                                            |
|    ‚úÖ     |      API_PASSWORD       |                                         |         |                                            |
|           |      API_ENDPOINT       |      The endpoint for your dxFeed       |         | `https://tools.dxfeed.com/webservice/rest` |
|    ‚úÖ     | RADAR_SAAS_API_ENDPOINT | The endpoint for your dxFeed Radar SaaS |         |                                            |

---

### Input Parameters

| Required? |   Name   |     Description     |                       Options                        | Defaults to |
| :-------: | :------: | :-----------------: | :--------------------------------------------------: | :---------: |
|           | endpoint | The endpoint to use | [price](#Price-Endpoint), [atm-iv](#ATM-IV-Endpoint) |   `price`   |

---

## Price Endpoint

### Input Params

| Required? |               Name               |                        Description                        |                                       Options                                        | Defaults to |
| :-------: | :------------------------------: | :-------------------------------------------------------: | :----------------------------------------------------------------------------------: | :---------: |
|    ‚úÖ     | `base`, `from`, `coin`, `market` |            The symbol of the currency to query            |                                                                                      |             |
|    üü°     |           `overrides`            | If base provided is found in overrides, that will be used | [Format](../../core/bootstrap/src/lib/external-adapter/overrides/presetSymbols.json) |             |

`overrides` should contain the following symbol conversions:

```bash
N225 ‚û°Ô∏è 'NKY.IND:TEI'
FTSE ‚û°Ô∏è 'UKX.IND:TEI'
TSLA ‚û°Ô∏è 'TSLA:BFX'
TSLAX ‚û°Ô∏è 'TSLA.US:TEI'
```

### Sample Input

```json
{
  "id": 1,
  "data": {
    "base": "FTSE"
  }
}
```

### Sample Output

```json
{
  "jobRunID": "1",
  "data": {
    "status": "OK",
    "Trade": {
      "UKX:FTSE": {
        "eventSymbol": "UKX:FTSE",
        "eventTime": 0,
        "time": 1593001772000,
        "timeNanoPart": 0,
        "sequence": 115972,
        "exchangeCode": "",
        "price": 6194.63,
        "size": 0,
        "dayVolume": 0,
        "dayTurnover": "NaN",
        "tickDirection": "ZERO_UP",
        "extendedTradingHours": false
      }
    },
    "result": 6194.63
  },
  "result": 6194.63,
  "statusCode": 200
}
```

## ATM IV Endpoint

At-the-money implied volatility

### Input Params

| Required? |   Name    |             Description             |    Options    | Defaults to |
| :-------: | :-------: | :---------------------------------: | :-----------: | :---------: |
|    ‚úÖ     | `symbol`  | The symbol of the currency to query | `BTC`, `ETH`, |             |
|    ‚úÖ     | `daysOut` |         Days until maturity         |               |             |

### Sample Input

```json
{
  "id": "1",
  "data": {
    "symbol": "BTC",
    "daysOut": 10
  }
}
```

### Sample Output

```json
{
  "jobRunID": "1",
  "data": {
    "outputNames": ["atmIv(daysToExp=10)"],
    "entries": [
      {
        "symbol": "BTCUSD:CXXDRB",
        "outputs": [0.7259234133485732]
      }
    ],
    "result": 0.7259234133485732
  },
  "result": 0.7259234133485732,
  "statusCode": 200
}
```
